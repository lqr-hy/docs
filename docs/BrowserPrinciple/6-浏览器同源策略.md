# 浏览器同源策略

### 1、什么是浏览器同源策略

浏览器同源策略（Same-Origin Policy）是一种安全策略，用于限制来自不同源（Origin）的网页间的交互。源是由协议、主机和端口组成的标识符，用于确定网页的来源。

浏览器同源策略的基本原则是，来自同一源的网页间可以相互信任和交互，而来自不同源的网页之间的交互受到限制。这个策略的目的是保护用户的隐私和安全，防止恶意网页获取敏感数据或进行恶意操作。

浏览器同源策略具有以下特点和限制：

1. **资源访问限制**：根据同源策略，网页只能访问同一源的资源（如文档、脚本、样式表、图片等），不能直接访问其他源的资源。

2. **Cookie 限制**：Cookie 是与特定源关联的，因此来自不同源的网页无法访问或操作其他源的 Cookie。

3. **DOM 访问限制**：浏览器同源策略限制了通过 JavaScript 访问和操作来自不同源的网页的 DOM（文档对象模型）。这意味着在跨源的情况下，JavaScript 不能直接操作其他网页的 DOM 元素。

4. **XHR/Fetch 请求限制**：XMLHttpRequest (XHR) 和 Fetch API 用于进行跨域的数据请求。同源策略限制了跨域请求，即只能向同一源发送请求，而不能直接向其他源发送请求。

5. **跨窗口通信限制**：通过窗口间的通信（如 postMessage）进行跨源通信时，同源策略要求目标窗口的源与发送消息的窗口的源相同或具有一定的关联关系。

要实现跨源的安全交互，可以使用一些机制来绕过浏览器同源策略，例如跨域资源共享（CORS）和跨文档消息传递（Cross-document Messaging）等。

需要注意的是，浏览器同源策略仅在浏览器中执行，而在服务器端没有限制。服务器端可以通过设置适当的跨域资源共享（CORS）头部来允许跨源访问。