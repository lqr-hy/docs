# http 进化史

HTTP（Hypertext Transfer Protocol）是一种用于传输超文本（如 HTML）的应用层协议。它经历了多个版本的进化，以下是 HTTP 的主要版本及其进化史：

1. HTTP/0.9：

   - 发布于 1991 年，是 HTTP 的最早版本。
   - 非常简单，只支持 GET 方法，并且不支持头部信息和响应状态码。
   - 只能传输纯文本，没有实现正式的 HTTP 协议规范。

2. HTTP/1.0：

   - 发布于 1996 年。
   - 引入了多种 HTTP 方法，如 GET、POST、HEAD 等。
   - 支持多种类型的数据传输，如文本、图片、音频等。
   - 使用明文传输，安全性较差。

3. HTTP/1.1：

   - 发布于 1997 年。
   - 改进了 HTTP/1.0 的性能，引入了持久连接、管道化等特性，减少了连接的建立和关闭次数。
   - 支持 Host 头部，使得一个服务器可以提供多个域名的网站服务。
   - 引入了缓存控制、断点续传等功能。

4. HTTP/2.0：

   - 发布于 2015 年。
   - 引入了多路复用（Multiplexing），允许在同一连接上同时发送多个请求和响应，提高了并发性能。
   - 支持头部压缩，减少了冗余数据的传输。
   - 引入了服务器推送（Server Push），服务器可以主动推送客户端所需的资源，加快页面加载速度。
   - 使用二进制传输，解析效率更高。

5. HTTP/3.0：
   - 发布于 2020 年。
   - 使用 QUIC 作为传输协议，取代了 TCP 协议，提高了连接的稳定性和速度。
   - 继续改进了性能，降低了延迟。

### 1、http 1.1 和 http 1.0 区别

1. 持久连接：

   - HTTP/1.0：默认情况下，每个 HTTP 请求都需要在单独的连接上进行，即短连接。每个请求完成后，连接会立即关闭，导致频繁地建立和关闭连接，增加了连接的开销。
   - HTTP/1.1：引入了持久连接（Persistent Connection）的概念，允许在同一连接上发送多个请求和响应，不需要为每个请求重新建立连接，减少了连接的开销，提高了性能。

2. Host 头部：

   - HTTP/1.0：没有 Host 头部，因此一个服务器只能提供一个域名的网站服务。
   - HTTP/1.1：引入了 Host 头部，使得一个服务器可以提供多个域名的网站服务，支持虚拟主机。

3. 缓存控制：

   - HTTP/1.0：没有明确的缓存控制机制，缓存策略较为简单，不能灵活地控制缓存行为。
   - HTTP/1.1：引入了更灵活的缓存控制机制，支持多种缓存策略，如 Cache-Control、ETag 等，提高了缓存的效率。

4. 传输编码：

   - HTTP/1.0：只支持 Content-Length 传输编码方式，即通过 Content-Length 头部指定消息体的长度。
   - HTTP/1.1：引入了分块传输编码（Chunked Transfer Encoding），允许服务器将消息分割成多个块进行传输，提高了传输效率，也支持 Content-Length 传输编码方式。

5. 错误处理：
   - HTTP/1.0：没有明确的错误处理机制，服务器只能通过响应状态码表示请求的成功或失败。
   - HTTP/1.1：引入了更多的响应状态码，更细致地表示不同类型的错误，如 1xx 表示信息响应、2xx 表示成功、3xx 表示重定向、4xx 表示客户端错误、5xx 表示服务器错误等。

### 2、http 2.0 和 http 1.1 区别

1. 多路复用（Multiplexing）：

   - HTTP/1.1：每个 HTTP 请求都需要在单独的连接上进行，导致连接的建立和关闭产生较大的开销。
   - HTTP/2.0：引入了多路复用功能，允许在同一连接上同时发送多个请求和响应，避免了连接建立和关闭的开销，提高了并发性能。

2. 二进制传输（Binary Framing）：

   - HTTP/1.1：采用文本格式传输数据，解析起来较为复杂。
   - HTTP/2.0：引入了二进制传输，将数据分割为二进制帧，使得数据的解析更加高效。

3. Header 压缩：

   - HTTP/1.1：每次请求和响应都携带相同的头部信息，导致冗余的传输。
   - HTTP/2.0：采用 HPACK 算法对头部信息进行压缩，减少了冗余数据的传输。

4. 服务器推送（Server Push）：

   - HTTP/1.1：客户端只能通过请求来获取资源，无法主动获取服务器未请求的资源。
   - HTTP/2.0：支持服务器推送功能，服务器可以在发送响应时主动推送客户端所需的其他资源，提高了页面加载速度。

5. 流量控制：
   - HTTP/1.1：没有流量控制的机制，容易造成服务器和客户端之间的阻塞。
   - HTTP/2.0：引入了流量控制功能，可以控制数据的传输速率，避免了过多的数据积压。

### 3、http 3.0 和 http 2.0 区别

1. 传输协议：

   - HTTP/2.0：使用 TCP 协议作为传输层协议。虽然 HTTP/2.0 引入了多路复用等特性，提高了并发性能，但 TCP 协议的一些缺点（如队头阻塞等）仍然存在。
   - HTTP/3.0：使用 QUIC（Quick UDP Internet Connections）协议作为传输层协议。QUIC 是基于 UDP 的新一代传输协议，通过使用 UDP 的数据报传输，解决了 TCP 的队头阻塞等问题，提高了连接的稳定性和速度。

2. 连接建立：

   - HTTP/2.0：在建立连接时需要进行 TCP 三次握手，然后再建立 TLS 连接（如果是 HTTPS），增加了连接建立的时间开销。
   - HTTP/3.0：由于使用 QUIC 协议，连接建立速度更快，无需进行 TCP 三次握手，也可以使用 0-RTT（Zero Round-Trip Time Resumption）来实现更快的连接建立。

3. 多路复用：

   - HTTP/2.0：引入了多路复用特性，允许在同一连接上同时发送多个请求和响应，减少了连接建立和关闭的开销。
   - HTTP/3.0：同样支持多路复用，但由于使用 QUIC 协议，解决了 TCP 的队头阻塞问题，进一步提高了并发性能。

4. 可靠性：
   - HTTP/2.0：在 TCP 连接断开时，需要重新建立连接，可能导致传输中断，需要重新发起请求。
   - HTTP/3.0：由于使用 QUIC 协议，连接断开后可以快速恢复，保持传输的可靠性。
